#========================================================================
#
# Main xpdf Makefile.
#
# Copyright 1996-2003 Glyph & Cog, LLC
#
#========================================================================

SHELL = /bin/sh

DESTDIR =

prefix = @prefix@
exec_prefix = @exec_prefix@
srcdir = @srcdir@
datarootdir = @datarootdir@

EXE = @EXE@

all: goo fofi splash xpdf

goo: dummy
	cd goo; $(MAKE)
	cd @UP_DIR@

fofi: dummy goo
	cd fofi; $(MAKE)
	cd @UP_DIR@

splash: dummy goo fofi
	cd splash; $(MAKE)
	cd @UP_DIR@

xpdf: dummy goo fofi splash
	cd xpdf; $(MAKE) @XPDF_TARGET@
	cd @UP_DIR@

jni: dummy goo fofi splash xpdf
	cd jni; $(MAKE)
	cd @UP_DIR@

dummy:

clean:
	cd goo; $(MAKE) clean
	cd @UP_DIR@fofi; $(MAKE) clean
	cd @UP_DIR@splash; $(MAKE) clean
	cd @UP_DIR@xpdf; $(MAKE) clean
	cd @UP_DIR@

distclean: clean
	rm -f config.log config.status config.cache
	rm -f aconf.h
	rm -f Makefile goo/Makefile fofi/Makefile splash/Makefile xpdf/Makefile jni/Makefile
	rm -f goo/Makefile.dep fofi/Makefile.dep splash/Makefile.dep xpdf/Makefile.dep jni/Makefile.dep
	rm -f goo/Makefile.in.bak fofi/Makefile.in.bak splash/Makefile.in.bak xpdf/Makefile.in.bak jni/Makefile.in.bak
	touch goo/Makefile.dep
	touch fofi/Makefile.dep
	touch splash/Makefile.dep
	touch xpdf/Makefile.dep
	touch jni/Makefile.dep

depend:
	cd goo; $(MAKE) depend
	cd @UP_DIR@fofi; $(MAKE) depend
	cd @UP_DIR@splash; $(MAKE) depend
	cd @UP_DIR@xpdf; $(MAKE) depend
	cd @UP_DIR@jni; $(MAKE) depend
